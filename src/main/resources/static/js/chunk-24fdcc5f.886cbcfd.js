(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24fdcc5f"],{"159b":function(t,e,r){var o=r("da84"),s=r("fdbc"),a=r("17c2"),i=r("9112");for(var n in s){var l=o[n],c=l&&l.prototype;if(c&&c.forEach!==a)try{i(c,"forEach",a)}catch(d){c.forEach=a}}},"17c2":function(t,e,r){"use strict";var o=r("b727").forEach,s=r("a640"),a=r("ae40"),i=s("forEach"),n=a("forEach");t.exports=i&&n?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},2138:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login"}},[r("div",{attrs:{id:"bgd"}},[r("canvas",{attrs:{id:"myCanvas",width:t.width,height:t.height}})]),r("div",{attrs:{id:"loginBox"}},[r("h2",[t._v("欢迎回来，请登录！")]),r("a",{staticStyle:{color:"#F56C6C"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handleRegister(e)}}},[t._v("没有账号，点击注册")]),r("p"),r("a",{staticStyle:{color:"#F56C6C"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handleFindPs(e)}}},[t._v("忘记密码，点击找回")]),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.loginRules,"label-width":"0px"}},[r("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"",prop:"username"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-user"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"学号"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"password"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{type:"password",placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1)],1),r("el-row",[r("el-button",{staticClass:"submitBtn",attrs:{type:"primary",round:""},on:{click:t.submitFormStu}},[t._v("学生登录")])],1),r("el-row",[r("el-button",{staticClass:"submitBtn",attrs:{type:"primary",round:""},on:{click:t.submitFormTeacher}},[t._v("教师登录")])],1),r("el-row",[r("el-button",{staticClass:"submitBtn",attrs:{type:"primary",round:""}},[t._v("管理员登录")])],1)],1),r("el-drawer",{attrs:{title:"码上开始,注册",visible:t.drawer,direction:"ttb","before-close":t.handleClose,size:"100%"},on:{"update:visible":function(e){t.drawer=e}}},[r("Register")],1),r("el-drawer",{attrs:{title:"码上开始,找回密码",visible:t.drawerFindPs,direction:"ttb","before-close":t.handleClose,size:"100%"},on:{"update:visible":function(e){t.drawerFindPs=e}}},[r("FindPassWord")],1)],1)},s=[];r("cb29"),r("4160"),r("159b");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}var l=r("5c96"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login"}},[r("div",{attrs:{id:"loginBox"}},[r("h2",[t._v("感谢注册！")]),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.loginRules,"label-width":"0px"}},[r("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"",prop:"username"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-user"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"请输入学号！"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"password"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"rePassWord"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"确认密码"},model:{value:t.form.rePassWord,callback:function(e){t.$set(t.form,"rePassWord",e)},expression:"form.rePassWord"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"email"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-message"})]),r("el-col",{attrs:{span:8}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{type:"small",round:""},on:{click:t.getEmailCode}},[t._v("获取邮箱验证码")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"",prop:"emailCode"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"邮箱验证码"},model:{value:t.form.emailCode,callback:function(e){t.$set(t.form,"emailCode",t._n(e))},expression:"form.emailCode"}})],1)],1)],1)],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"sex"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-male"})]),r("el-col",{attrs:{span:22}},[r("el-radio",{attrs:{label:"0"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[t._v("男")]),r("el-radio",{attrs:{label:"1"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[t._v("女")])],1)],1)],1),r("el-form-item",{staticStyle:{"margin-top":"55px"}},[r("el-button",{staticClass:"submitBtn",attrs:{type:"primary",round:""},on:{click:t.submitForm}},[t._v("注册")])],1)],1)],1)])},d=[],u=(r("d3b7"),r("25f0"),{data:function(){var t=this,e=function(e,r,o){""===r?o(new Error("请再次输入密码")):r!==t.form.passWord?o(new Error("两次输入密码不一致!")):o()},r=function(t,e,r){var o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!e)return r(new Error("邮箱不能为空"));setTimeout((function(){o.test(e)?r():r(new Error("请输入正确的邮箱格式"))}),100)},o=function(t,e,r){e?4!==e.toString().length?r(new Error("请输入4位验证码!")):r():r(new Error("请输入验证码"))};return{shadowColorList:["#39f","#ec5707","#b031d4","#22e6c7","#92d819","#14d7f1","#e23c66"],form:{username:"",passWord:"",rePassWord:"",email:"",emailCode:null,sex:"0"},reqData:{},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"}],rePassWord:[{validator:e,trigger:"blur"}],email:[{required:!0,message:"请输入验证邮箱",trigger:"blur"},{validator:r,trigger:"blur"}],emailCode:[{validator:o,trigger:"blur"},{type:"number",message:"验证码必须是数字"}]}}},methods:{getEmailCode:function(){var t=this;console.log("getEmailCode"),this.$message({message:"正在获取邮箱验证码，请稍等！",type:"success"}),this.$axios({method:"post",url:"/api/user/validationemail",data:{email:this.form.email}}).then((function(e){if(console.log(e),"邮件已发送"===e.data.msg)return t.$message({message:"验证码发送成功，请查收！",type:"success"}),t.form.emailCode=e.data.student.verificationCode;t.$message({message:"验证码发送失败",type:"error"})})).catch((function(t){alert("网络异常，请重试！")}))},submitForm:function(){console.log("submitForm")}}}),f=u,m=(r("8685"),r("2877")),p=Object(m["a"])(f,c,d,!1,null,"536ea8b0",null),h=p.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login"}},[r("div",{attrs:{id:"loginBox"}},[r("h2",[t._v("找回密码")]),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.loginRules,"label-width":"0px"}},[r("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"",prop:"username"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-user"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"请输入学号！"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"password"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"请输入新密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"passWordCheck"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"确认新密码"},model:{value:t.form.rePassWord,callback:function(e){t.$set(t.form,"rePassWord",e)},expression:"form.rePassWord"}})],1)],1)],1),r("el-form-item",{attrs:{label:"",prop:"email"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-message"})]),r("el-col",{attrs:{span:8}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{type:"small",round:""},on:{click:t.getEmailCode}},[t._v("获取邮箱验证码")])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"",prop:"emailCode"}},[r("el-row",[r("el-col",{attrs:{span:2}},[r("i",{staticClass:"iconfont el-icon-goods"})]),r("el-col",{attrs:{span:22}},[r("el-input",{staticClass:"inps",attrs:{placeholder:"邮箱验证码"},model:{value:t.form.emailCode,callback:function(e){t.$set(t.form,"emailCode",e)},expression:"form.emailCode"}})],1)],1)],1)],1)],1)],1),r("el-form-item",{staticStyle:{"margin-top":"55px"}},[r("el-button",{staticClass:"submitBtn",attrs:{type:"primary",round:""},on:{click:t.submitForm}},[t._v("找回密码")])],1)],1)],1)])},b=[],v={data:function(){return{shadowColorList:["#39f","#ec5707","#b031d4","#22e6c7","#92d819","#14d7f1","#e23c66"],form:{username:"",passWord:"",rePassWord:"",email:"",emailCode:null},reqData:{},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],passWordCheck:[{required:!0,message:"请再次输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入验证邮箱",trigger:"blur"}],emailCode:[{required:!0,message:"请输入邮箱验证码",trigger:"blur"}]}}},methods:{getEmailCode:function(){console.log("getEmailCode")},submitForm:function(){console.log("submitForm")}}},w=v,C=(r("d3cd"),Object(m["a"])(w,g,b,!1,null,"b316774a",null)),x=C.exports,y={name:"index",components:{Register:h,FindPassWord:x},data:function(){return{drawer:!1,drawerFindPs:!1,canvas:null,context:null,stars:[],shadowColorList:["#39f","#ec5707","#b031d4","#22e6c7","#92d819","#14d7f1","#e23c66"],directionList:["leftTop","leftBottom","rightTop","rightBottom"],speed:10,last_star_created_time:new Date,Ball:function(){function t(e){a(this,t),this.x=0,this.y=0,this.radius=e,this.color="",this.shadowColor="",this.direction=""}return n(t,[{key:"draw",value:function(t){t.save(),t.translate(this.x,this.y),t.lineWidth=this.lineWidth;var e=t.createLinearGradient(0,0,0,8);e.addColorStop(0,this.color),e.addColorStop(1,this.shadowColor),t.fillStyle=e,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!0),t.closePath(),t.shadowColor=this.shadowColor,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=10,t.fill(),t.restore()}}]),t}(),width:window.innerWidth,height:window.innerHeight,form:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:{},methods:{handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},loadObj:function(){var t=l["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});return this.loadingInstance=t},submitFormTeacher:function(){this.loadObj()},submitFormStu:function(){this.loadObj()},handleRegister:function(){return this.drawer=!0},handleFindPs:function(){return this.drawerFindPs=!0},drawFrame:function(){requestAnimationFrame(this.drawFrame);this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.createStar(!1),this.stars.forEach(this.moveStar)},createStar:function(t){var e=new Date;if(t)for(var r=0;r<50;r++){var o=3*Math.random()+2,s=new this.Ball(o);s.x=Math.random()*this.canvas.width+1,s.y=Math.random()*this.canvas.height+1,s.color="#ffffff",s.shadowColor=this.shadowColorList[Math.floor(Math.random()*this.shadowColorList.length)],s.direction=this.directionList[Math.floor(Math.random()*this.directionList.length)],this.stars.push(s)}else if(!t&&e-this.last_star_created_time>3e3){for(r=0;r<30;r++)this.stars[r].shadowColor=this.shadowColorList[Math.floor(Math.random()*this.shadowColorList.length)];this.last_star_created_time=e}},moveStar:function(t,e){t.y-this.canvas.height>0?1===Math.floor(2*Math.random())?t.direction="leftTop":t.direction="rightTop":t.y<2?1===Math.floor(2*Math.random())?t.direction="rightBottom":t.direction="leftBottom":t.x<2?1===Math.floor(2*Math.random())?t.direction="rightTop":t.direction="rightBottom":t.x-this.canvas.width>0&&(1===Math.floor(2*Math.random())?t.direction="leftBottom":t.direction="leftTop"),"leftTop"===t.direction?(t.y-=t.radius/this.speed,t.x-=t.radius/this.speed):"rightBottom"===t.direction?(t.y+=t.radius/this.speed,t.x+=t.radius/this.speed):"leftBottom"===t.direction?(t.y+=t.radius/this.speed,t.x-=t.radius/this.speed):"rightTop"===t.direction&&(t.y-=t.radius/this.speed,t.x+=t.radius/this.speed),t.draw(this.context)}},mounted:function(){this.canvas=document.getElementById("myCanvas"),this.context=this.canvas.getContext("2d"),this.createStar(!0),this.drawFrame()}},S=y,L=(r("9cc4"),Object(m["a"])(S,o,s,!1,null,"2d3d41fd",null));e["default"]=L.exports},"25f0":function(t,e,r){"use strict";var o=r("6eeb"),s=r("825a"),a=r("d039"),i=r("ad6d"),n="toString",l=RegExp.prototype,c=l[n],d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=n;(d||u)&&o(RegExp.prototype,n,(function(){var t=s(this),e=String(t.source),r=t.flags,o=String(void 0===r&&t instanceof RegExp&&!("flags"in l)?i.call(t):r);return"/"+e+"/"+o}),{unsafe:!0})},"2bfc":function(t,e,r){},4160:function(t,e,r){"use strict";var o=r("23e7"),s=r("17c2");o({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"492f":function(t,e,r){},"65f0":function(t,e,r){var o=r("861d"),s=r("e8b5"),a=r("b622"),i=a("species");t.exports=function(t,e){var r;return s(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?o(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"81d5":function(t,e,r){"use strict";var o=r("7b0b"),s=r("23cb"),a=r("50c4");t.exports=function(t){var e=o(this),r=a(e.length),i=arguments.length,n=s(i>1?arguments[1]:void 0,r),l=i>2?arguments[2]:void 0,c=void 0===l?r:s(l,r);while(c>n)e[n++]=t;return e}},8685:function(t,e,r){"use strict";var o=r("492f"),s=r.n(o);s.a},"9cc4":function(t,e,r){"use strict";var o=r("2bfc"),s=r.n(o);s.a},a640:function(t,e,r){"use strict";var o=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&o((function(){r.call(null,e||function(){throw 1},1)}))}},ad6d:function(t,e,r){"use strict";var o=r("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,r){var o=r("83ab"),s=r("d039"),a=r("5135"),i=Object.defineProperty,n={},l=function(t){throw t};t.exports=function(t,e){if(a(n,t))return n[t];e||(e={});var r=[][t],c=!!a(e,"ACCESSORS")&&e.ACCESSORS,d=a(e,0)?e[0]:l,u=a(e,1)?e[1]:void 0;return n[t]=!!r&&!s((function(){if(c&&!o)return!0;var t={length:-1};c?i(t,1,{enumerable:!0,get:l}):t[1]=1,r.call(t,d,u)}))}},b727:function(t,e,r){var o=r("0366"),s=r("44ad"),a=r("7b0b"),i=r("50c4"),n=r("65f0"),l=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,d=4==t,u=6==t,f=5==t||u;return function(m,p,h,g){for(var b,v,w=a(m),C=s(w),x=o(p,h,3),y=i(C.length),S=0,L=g||n,k=e?L(m,y):r?L(m,0):void 0;y>S;S++)if((f||S in C)&&(b=C[S],v=x(b,S,w),t))if(e)k[S]=v;else if(v)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:l.call(k,b)}else if(d)return!1;return u?-1:c||d?d:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},cb29:function(t,e,r){var o=r("23e7"),s=r("81d5"),a=r("44d2");o({target:"Array",proto:!0},{fill:s}),a("fill")},d3cd:function(t,e,r){"use strict";var o=r("e569"),s=r.n(o);s.a},e569:function(t,e,r){},e8b5:function(t,e,r){var o=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-24fdcc5f.886cbcfd.js.map